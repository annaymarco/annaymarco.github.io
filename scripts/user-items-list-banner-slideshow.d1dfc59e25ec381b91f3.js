"use strict";(self.webpackChunknew_bedford_framework=self.webpackChunknew_bedford_framework||[]).push([[7973],{28897:function(e,t,i){i.r(t),i.d(t,{UserItemsListBannerSlideshow:function(){return P}});i(92338);var o=i(45301),n=i(22358),r=i(1681),s=i(58200),l=i(6370),a=i(42379),d=i(1678),u=i(92651),c=i(62766),h=i(19157);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){C(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function v(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o=y(e);if(t){var n=y(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return b(this,i)}}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var B=0,x=0,A="px",I=576,k=function(e){var t=e.spaceValue,i=e.spaceUnit;return window.innerWidth<I&&(t=x,i=A),{value:t,unit:i}},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(m,e);var t,i,o,p=S(m);function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),C(g(t=p.call(this)),"loadImage",(function(e){e&&(e.onload=function(){e.dataset.loaded=!0},u.Z.loadLazy(e,{load:!0,useAdvancedPositioning:!0}))})),C(g(t),"getStateFromDOM",(function(){var e=JSON.parse(t.node.dataset.currentContext),i=Object.assign({},e);return i.userItems.forEach((function(e,t){e.image&&(e.imageId=e.image.id,delete e.image)})),i})),C(g(t),"updateRef",(function(){var e=t.props,i=e.itemSelector,o=e.contentSelector,n=e.unorderedListSelector,r=e.imageSelector,s=e.itemTitleSelector,l=e.itemDescriptionSelector,a=e.itemButtonSelector,d=e.arrowLeftWrapperSelector,u=e.arrowRightWrapperSelector,c=e.arrowsBottomWrapperSelector,h=e.parentSectionSelector,p=e.listWrapperSelector,m=e.listTitleSelector,f=e.listButtonWrapperSelector,v=e.listButtonSelector,w=e.listTitleSpacerSelector,S=e.listButtonSpacerSelector;return{layoutContainer:t.node,unorderedList:t.node.querySelector(n),images:Array.from(t.node.querySelectorAll(r)),userItems:Array.from(t.node.querySelectorAll(i)),userItemsContent:Array.from(t.node.querySelectorAll(o)),itemTitles:Array.from(t.node.querySelectorAll(s)),itemDescriptions:Array.from(t.node.querySelectorAll(l)),itemButtons:Array.from(t.node.querySelectorAll(a)),arrowLeftWrapper:t.node.querySelector(d),arrowRightWrapper:t.node.querySelector(u),arrowsBottomWrapper:t.node.querySelector(c),parentNode:t.node.closest(h),listWrapperElement:t.node.closest(p),listTitleElement:t.node.parentElement.querySelector(m),listButtonWrapper:t.node.parentElement.querySelector(f),listButtonElement:t.node.parentElement.querySelector(v),listTitleSpacerElement:t.node.parentElement.querySelector(w),listButtonSpacerElement:t.node.parentElement.querySelector(S)}})),C(g(t),"handleArrowVisibility",(function(){if(!t.isInfiniteEnabled&&"arrows"===t.navigationControls){if(t.slideshowProps.totalSlideCount<=t.getSlideColumnCount())return t.hideArrow(t.previousBtn),void t.hideArrow(t.nextBtn);t.slideshowProps.targetSlideIndex<=0?t.hideArrow(t.previousBtn):t.showArrow(t.previousBtn),t.slideshowProps.targetSlideIndex>=t.behaviors.getLastScrollableSlideIndex()?t.hideArrow(t.nextBtn):t.showArrow(t.nextBtn)}})),C(g(t),"onResize",(function(){var e=t.getSlideColumnCount();t.removeClones(),t.slideshowNodes=t.buildItems(t.slides),t.list.props.items=t.slideshowNodes,t.list.props.slideshowGutterWidth=t.getSlideshowGutterWidth(),t.list.props.slideColumnCount=e,t.behaviors&&(t.behaviors.props.slideColumnCount=e),t.list.props.spacing=k({spaceValue:t.node.dataset.spaceBetweenSlidesValue,spaceUnit:t.node.dataset.spaceBetweenSlidesUnit}),t.loadImages(t.ref.images),t.list.setSize(t.getSlideshowDimensions()),t.updatePositions(),t.slideshowProps.targetSlideIndex=t.slideshowProps.progressIndex,t.handleArrowVisibility()})),C(g(t),"removeClones",(function(){t.slidesContainer.innerHTML="";var e=new DocumentFragment;t.slides.forEach((function(t){e.appendChild(t)})),t.slidesContainer.appendChild(e)})),C(g(t),"onClickNavPrevious",(function(){t.behaviors.previousIndex()})),C(g(t),"onClickNavNext",(function(){t.behaviors.nextIndex()})),C(g(t),"onProgress",(function(e){t.slideshowProps.progressIndex=(.5+e<<0)%t.slideshowProps.totalSlideCount,t.list.setProgress(e),t.updatePositions()})),C(g(t),"onStartProgress",(function(e){if(t.slideshowProps.targetSlideIndex=e,t.handleArrowVisibility(),!t.dragBehaviors.isDragging){var i=t.slideshowNodes.length,o=Math.round((e+i)%i);t.updateAriaContainer({currentSlideIndex:o})}})),C(g(t),"onCloneItem",(function(e){var i=t.slideshowNodes[e],o=i.node.parentNode,n=i.node.cloneNode(!0);n.querySelectorAll("h1, h2, h3, h4, h5, p, [data-animation-role]").forEach((function(e){(0,c.D)(e),e.classList.remove(h.q)}));var r=n.querySelector(t.nodeSelectors.slideshowItemImage);o.appendChild(n),t.slideshowNodes.push(f(f({},i),{},{node:n,imageNode:r,isImageLoadAdded:!1,inViewport:null}))})),t.node=e,t.ref=t.updateRef(),t.isInfiniteEnabled="true"===e.getAttribute("data-is-infinite-enabled"),t.spaceBetweenSlidesValue=Number(e.getAttribute("data-space-between-slides-value")),t.spaceBetweenSlidesUnit=e.getAttribute("data-space-between-slides-unit"),t.maxColumns=1,t.navigationControls=e.getAttribute("data-navigation-controls"),t.nodeSelectors={slideshowWidthConstrainer:".slideshow-gutter",slidesContainer:".slides",slide:".slide",slideshowItemImage:".list-slideshow-image",previousBtn:".user-items-list-banner-slideshow__arrow-button--left",nextBtn:".user-items-list-banner-slideshow__arrow-button--right",previousBtnMobile:".mobile-arrow-button--left",nextBtnMobile:".mobile-arrow-button--right"},t.classNames={isSlideshowInitialized:"slides--initialized",isArrowHidden:"arrow-button--hidden"},t.state=t.getStateFromDOM(),t.initializeSlideshowDom(),t.initializeSlideshowBehaviors(),t.initializeSlideshowProperties(),t.initializeDragBehaviors(),t.initializeSlideshow(),t.behaviors.setIndex(B,{isInstant:!0}),t.destroy=t.destroy.bind(g(t)),t}return t=m,(i=[{key:"loadImages",value:function(e){e.forEach(this.loadImage)}},{key:"addAriaContainer",value:function(e){var t=e.targetElement,i=document.createElement("div");i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),i.setAttribute("style","position: absolute; pointer-events: none; opacity: 0;"),t.appendChild(i),this.ariaContainer=i}},{key:"updateAriaContainer",value:function(e){var t=e.currentSlideIndex,i=this.slideshowNodes.length;this.ariaContainer.innerHTML="Item ".concat(t+1," of ").concat(i)}},{key:"initializeSlideshowDom",value:function(){this.slideshowWidthConstrainer=this.node.querySelector(this.nodeSelectors.slideshowWidthConstrainer),this.slidesContainer=this.node.querySelector(this.nodeSelectors.slidesContainer),this.previousBtn=this.node.querySelector(this.nodeSelectors.previousBtn),this.nextBtn=this.node.querySelector(this.nodeSelectors.nextBtn),this.previousBtnMobile=this.node.querySelector(this.nodeSelectors.previousBtnMobile),this.nextBtnMobile=this.node.querySelector(this.nodeSelectors.nextBtnMobile),this.slides=Array.from(this.node.querySelectorAll(this.nodeSelectors.slide)),this.slideshowNodes=this.buildItems(this.slides),this.addAriaContainer({targetElement:this.slideshowWidthConstrainer})}},{key:"initializeSlideshowBehaviors",value:function(){this.behaviors=new n.Z({nodes:{focus:this.slideshowWidthConstrainer},numSlides:this.slideshowNodes.length,slideColumnCount:this.getSlideColumnCount(),isAutoplay:!1,autoplayInterval:3e3,isInfinite:this.isInfiniteEnabled,transitionDuration:600,onProgress:this.onProgress,onStartProgress:this.onStartProgress,shouldStopNavAtEnds:!0}),this.list=new s.Z(f(f({items:this.slideshowNodes},this.getSlideshowDimensions()),{},{spacing:k({spaceValue:this.spaceBetweenSlidesValue,spaceUnit:this.spaceBetweenSlidesUnit}),isInfinite:this.isInfiniteEnabled,onCloneItem:this.onCloneItem,slideshowGutterWidth:this.getSlideshowGutterWidth()}))}},{key:"initializeSlideshowProperties",value:function(){this.slideshowProps={slideDimensions:this.list.props.items[0],totalSlideCount:this.slideshowNodes.length,progress:0,progressIndex:0,targetSlideIndex:0}}},{key:"initializeDragBehaviors",value:function(){var e=this.node.querySelector(this.nodeSelectors.slideshowWidthConstrainer);this.dragBehaviors=new r.Z(e,{slideshowProps:this.slideshowProps,behaviors:this.behaviors,callback:this.handleArrowVisibility})}},{key:"initializeSlideshow",value:function(){this.updatePositions(),this.slidesContainer.classList.add(this.classNames.isSlideshowInitialized),this.bindListeners(),this.loadImages(this.ref.images),this.handleArrowVisibility(),this.updateAriaContainer({currentSlideIndex:0})}},{key:"hideArrow",value:function(e){e&&(e.classList.add(this.classNames.isArrowHidden),e.setAttribute("tabindex","-1"),e.setAttribute("data-override-initial-global-animation",""))}},{key:"showArrow",value:function(e){e&&(e.classList.remove(this.classNames.isArrowHidden),e.setAttribute("tabindex","0"),e.removeAttribute("data-override-initial-global-animation"))}},{key:"getSlideColumnCount",value:function(){var e=this,t=window.innerWidth,i=1;return Object.values({"breakpoint-up-sm":{minScreenWidth:576,columnsWeHaveRoomFor:2},"breakpoint-up-lg":{minScreenWidth:992,columnsWeHaveRoomFor:3},"breakpoint-up-xxl":{minScreenWidth:1200,columnsWeHaveRoomFor:4}}).forEach((function(o){t>=o.minScreenWidth&&(i=Math.min(o.columnsWeHaveRoomFor,e.maxColumns))})),i}},{key:"getSlideshowGutterWidth",value:function(){var e=this.slidesContainer.getBoundingClientRect();return this.slidesContainer.offsetWidth/e.width*(e.x-this.slideshowWidthConstrainer.getBoundingClientRect().x)}},{key:"bindListeners",value:function(){var e,t,i,o;"none"!==this.state.options.navigationControls&&(null===(i=this.previousBtn)||void 0===i||i.addEventListener("click",this.onClickNavPrevious),null===(o=this.nextBtn)||void 0===o||o.addEventListener("click",this.onClickNavNext)),null===(e=this.previousBtnMobile)||void 0===e||e.addEventListener("click",this.onClickNavPrevious),null===(t=this.nextBtnMobile)||void 0===t||t.addEventListener("click",this.onClickNavNext),this.onResize=(0,a.Z)(this.onResize,d.FY),l.Z.on(this.onResize)}},{key:"unbindListeners",value:function(){var e,t,i,o;"none"!==this.state.options.navigationControls&&(null===(i=this.previousBtn)||void 0===i||i.removeEventListener("click",this.onClickNavPrevious),null===(o=this.nextBtn)||void 0===o||o.removeEventListener("click",this.onClickNavNext)),null===(e=this.previousBtnMobile)||void 0===e||e.removeEventListener("click",this.onClickNavPrevious),null===(t=this.nextBtnMobile)||void 0===t||t.removeEventListener("click",this.onClickNavNext),l.Z.off(this.onResize)}},{key:"getSlideshowDimensions",value:function(){var e=this.slideshowWidthConstrainer.offsetWidth,t=this.slideshowWidthConstrainer.offsetHeight;return{regionWidth:e,regionHeight:t,maxWidth:e,maxHeight:t}}},{key:"setItemIndex",value:function(e){for(var t=0;t<e.length;t++)e[t].length&&B!==t&&(B=t,this.behaviors.setIndex(B))}},{key:"buildItems",value:function(e){var t=this;return e.map((function(e,i){return{width:e.offsetWidth,height:e.offsetHeight,index:i,node:e,imageNode:e.querySelector(t.nodeSelectors.slideshowItemImage),isImageLoadAdded:!1,inViewport:null}}))}},{key:"updatePositions",value:function(){for(var e=0,t=this.slideshowNodes.length;e<t;e+=1){var i=this.slideshowNodes[e],o=this.list.items[e],n=!!(.5+Math.min(1,Math.abs(o.proximity))<<0),r=i.inViewport!==o.inViewport;n?i.node.setAttribute("aria-hidden",!0):i.node.removeAttribute("aria-hidden"),(i.inViewport||r)&&(i.node.style.transform="translate3d("+o.x+"px, 0, 0)",i.inViewport=o.inViewport)}}},{key:"destroy",value:function(){this.behaviors&&(this.behaviors.destroy(),delete this.behaviors),this.dragBehaviors&&(this.dragBehaviors.destroy(),delete this.dragBehaviors),this.unbindListeners()}}])&&v(t.prototype,i),o&&v(t,o),m}(o.Z);C(P,"defaultProps",{unorderedListSelector:".slides",itemSelector:".slide",imageSelector:"img",contentSelector:".slide-content",mediaSelector:".slide-media-container",itemTitleSelector:".list-item-content__title",itemDescriptionSelector:".list-item-content__description",itemButtonSelector:".list-item-content__button",itemButtonContainerSelector:".list-item-content__button-container",arrowLeftWrapperSelector:".arrow-container--left",arrowRightWrapperSelector:".arrow-container--right",arrowsBottomWrapperSelector:".arrows-bottom-wrapper",parentSectionSelector:".user-items-list-section",listWrapperSelector:".user-items-list",hideElementClass:"list-item-content--hidden",listTitleSelector:".list-section-title",listButtonWrapperSelector:".list-section-button-container",listButtonSelector:".list-section-button",listTitleSpacerSelector:".section-title-vertical-padding-spacer",listButtonSpacerSelector:".section-button-vertical-padding-spacer"}),t.default=function(e){return new P(e)}}}]);