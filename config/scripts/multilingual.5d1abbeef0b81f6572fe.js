"use strict";(self.webpackChunknew_bedford_framework=self.webpackChunknew_bedford_framework||[]).push([[2300],{54293:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,function(e){e.NONE="none",e.GLOBE="globe",e.FLAG="flag"}(n||(n={}));var a=n;t.default=a,e.exports=t.default},18416:function(e,t){t.v6="UserAccountApi",t.in="isUserAuthenticated",t.tV="openAccountScreen"},85399:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});n(92338),n(35666);var a=n(45301),r=n(54293),o=n.n(r),i=n(18416),u={af:"za",am:"et",ar:"sa",az:"az",ba:"ru",be:"by",bg:"bg",bn:"bd",br:"br",bs:"ba",ca:"es-ca",co:"fr-co",cs:"cz",cy:"gb-wls",da:"dk",de:"de",el:"gr",en:"gb",eo:"eo",es:"es",et:"ee",eu:"eus",fa:"ir",fi:"fi",fj:"fj",fl:"ph",fr:"fr",fy:"nl",ga:"ie",gd:"gb-sct",gl:"es-ga",gu:"in",ha:"ne",he:"il",hi:"in",hr:"hr",ht:"ht",hu:"hu",hw:"hw",hy:"am",id:"id",ig:"ne",is:"is",it:"it",ja:"jp",jv:"id",ka:"ge",kk:"kz",km:"kh",kn:"in",ko:"kr",ku:"iq",ky:"kg",la:"it",lb:"lu",lo:"la",lt:"lt",lv:"lv",mg:"mg",mi:"nz",mk:"mk",ml:"in",mn:"mn",mr:"in",ms:"my",mt:"mt",my:"mm",ne:"np",nl:"nl",no:"no",ny:"mw",pa:"in",pl:"pl",ps:"af",pt:"pt",ro:"ro",ru:"ru",sd:"pk",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",st:"ng",su:"sd",sv:"se",sw:"ke",ta:"in",te:"in",tg:"tj",th:"th",tl:"in",to:"to",tr:"tr",tt:"tr",tw:"tw",ty:"pf",uk:"ua",ur:"pk",uz:"uz",vi:"vn",xh:"za",yi:"il",yo:"ng",zh:"cn",zu:"za",hm:"hmn",cb:"ph",or:"in",tk:"tr",ug:"uig",fc:"ca",as:"in",sa:"rs"};function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v(e);if(t){var r=v(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n,a,r,o,i){try{var u=e[o](i),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(a,r)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){y(o,a,r,i,u,"next",e)}function u(e){y(o,a,r,i,u,"throw",e)}i(void 0)}))}}function w(){return(w=b(regeneratorRuntime.mark((function e(){var t,a,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(9476).then(n.t.bind(n,66394,23));case 2:return t=e.sent.default,e.next=5,Promise.all([n.e(241),n.e(9641),n.e(8318),n.e(3145),n.e(1197)]).then(n.t.bind(n,23145,23));case 5:a=e.sent,r=a.UserSessionApi,o=a.UserSessionApiAxios,(i=t.get("siteUserCrumb"))&&(o.setXsrfToken(i),r.updateLocale());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,a,r=d(l);function l(e){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),h(m(n=r.call(this,e)),"scriptLoadCallback",(function(e){var t;"Weglot"===(null===(t=e.data)||void 0===t?void 0:t.extensionName)&&(n.events.removeListener(n.events.pageEventType.ScriptLoad,n.scriptLoadCallback),n.initializeLanguagePickers())})),h(m(n),"handleLanguageClick",(function(e){return function(t){t.preventDefault(),t.target.blur(),n.newLanguageSelected=!0,window.Weglot.switchTo(e)}}));var a=n.props.headerNode;n.languagePickersToRender=[{node:a.querySelector("#multilingual-language-picker-desktop"),className:"language-item"},{node:a.querySelector("#multilingual-language-picker-mobile"),className:"header-menu-nav-item"}],n.languageData=JSON.parse(a.getAttribute("data-language-picker"));var i=n.languageData||{},u=i.iconEnabled,c=i.iconType,s=i.languageFlags;n.hasFlags=u&&c===o().FLAG,n.hasFlags&&(n.languageFlagLookup=s.reduce((function(e,t){return e[t.languageCode]=t.countryCode,e}),{}),n.currentFlagNodes=a.querySelectorAll(".current-language img.flag"),n.flagAltTextTranslated=n.currentFlagNodes[0].getAttribute("data-alt-text")),n.currentLanguageNodes=a.querySelectorAll(".current-language-name");var g=null===(t=window.ExtensionScriptsSDK)||void 0===t?void 0:t["1.0"];return n.events=null==g?void 0:g.page.events,n.initAttempts=0,n.weglotLanguageData={},n.newLanguageSelected=!1,n}return t=l,n=[{key:"checkWeglotAndInitialize",value:function(){var e;window.Weglot?this.initializeLanguagePickers():null===(e=this.events)||void 0===e||e.addListener(this.events.pageEventType.ScriptLoad,this.scriptLoadCallback)}},{key:"initializeLanguagePickers",value:function(){var e,t,n=this,a=window.Weglot;if(a){var r=null===(e=a.options)||void 0===e?void 0:e.language_from,o=null===(t=a.options)||void 0===t?void 0:t.languages;if(o||a.initialized){var i=a.getCurrentLang();this.replaceCurrentLanguage(i);var u=o.filter((function(e){return e.enabled})).map((function(e){var t=e.custom_code||e.language_to;return n.weglotLanguageData[t]={isCustom:!!e.custom_code,customLocalName:e.custom_local_name,customFlagCountry:e.custom_flag},t})).concat(r);this.languagePickersToRender.forEach((function(e){var t,a=u.map((function(t){return n.getLanguageSelectionHtml(t,e.className)}));(t=e.node.querySelector(".language-picker-content")).append.apply(t,c(a))})),window.Weglot.on("languageChanged",(function(e){n.newLanguageSelected&&(n.updateSiteUserLocale(e),n.replaceCurrentLanguage(e),n.newLanguageSelected=!1)}))}else this.initAttempts<2&&setTimeout((function(){n.initAttempts+=1,n.initializeLanguagePickers()}),100)}}},{key:"getLanguageSelectionHtml",value:function(e,t){var n=document.createElement("span");n.textContent=this.getDisplayName(e);var a=document.createElement("a");if(a.href="#",a.addEventListener("click",this.handleLanguageClick(e)),this.hasFlags){var r=document.createElement("img");r.classList.add("flag","icon--lg"),this.addFlagDataToImg(r,e),a.appendChild(r)}a.appendChild(n);var o=document.createElement("div");return o.classList.add(t),o.appendChild(a),o}},{key:"replaceCurrentLanguage",value:function(e){var t=this;this.currentLanguageNodes.forEach((function(n){n.innerHTML=t.getDisplayName(e)})),this.hasFlags&&this.currentFlagNodes.forEach((function(n){t.addFlagDataToImg(n,e)}))}},{key:"updateSiteUserLocale",value:function(e){var t,n;(null===(t=this.weglotLanguageData[e])||void 0===t?void 0:t.isCustom)||((null===(n=window[i.v6])||void 0===n?void 0:n[i.in])?(0,window[i.v6][i.in])()&&function(){w.apply(this,arguments)}():console.warn("UserAccounts API not available"))}},{key:"addFlagDataToImg",value:function(e,t){var n=this.languageData.flagShape,a=this.getFlagCountry(t);e.src="https://cdn.weglot.com/flags/".concat(n,"/").concat(a,".svg"),e.alt="".concat(window.Weglot.getLanguageName(t)," ").concat(this.flagAltTextTranslated)}},{key:"getDisplayName",value:function(e){var t=this.weglotLanguageData[e];return(null==t?void 0:t.isCustom)?t.customLocalName:window.Weglot.getLanguageName(e)}},{key:"getFlagCountry",value:function(e){var t=this.weglotLanguageData[e];return this.languageFlagLookup[e]||u[e]||(null==t?void 0:t.customFlagCountry)}}],n&&g(t.prototype,n),a&&g(t,a),l}(a.Z)}}]);